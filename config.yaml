# Jamabandi Scraper Configuration
# Override any default values here

urls:
  base_url: "https://jamabandi.nic.in"
  form_path: "/PublicNakal/CreateNewRequest"
  login_path: "/PublicNakal/login.aspx"

http:
  user_agent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:147.0) Gecko/20100101 Firefox/147.0"
  timeout: 30
  verify_ssl: false

delays:
  min_delay: 1.0       # Minimum delay between requests (seconds)
  max_delay: 2.5       # Maximum delay between requests (seconds)
  form_postback_sleep: 0.25

# Retry settings for failed downloads
# Failed items are collected and retried at the end of the session
retry:
  max_retries: 3       # Maximum retry attempts per failed item
  retry_delay: 5.0     # Base delay between retries (uses exponential backoff)

# Rate limiting automatically adapts to server response:
# - Backs off on 429 (Too Many Requests) or 5xx errors
# - Gradually decreases delay when server is responsive

concurrency:
  max_workers: 8
  default_workers: 3

paths:
  downloads_dir: "downloads"
  logs_dir: "logs"
  progress_file: "progress.json"

logging:
  level: "INFO"
  max_file_size_mb: 10
  backup_count: 5

# Session management settings
session:
  refresh_timeout: 300  # Seconds to wait for new cookie when session expires
  # URL patterns that indicate session expiry
  expiry_url_patterns:
    - "login.aspx"
    - "login.asp"
  # Content patterns that indicate session expiry
  expiry_content_patterns:
    - "enter mobile"
    - "session expired"
    - "session has timed out"
    - "please login"

# Statistics tracking
statistics:
  window_seconds: 60  # Sliding window for speed calculation
